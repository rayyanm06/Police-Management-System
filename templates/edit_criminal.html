<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Edit Criminal | Cyber Command</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body{font-family:'Orbitron',sans-serif;background:#001f1f;color:#00ff99;margin:0;min-height:100vh;display:flex;align-items:flex-start;justify-content:center;padding:80px 0}
    form{background:rgba(0,40,40,.9);padding:35px;border-radius:15px;box-shadow:0 0 25px #00ff99;width:520px}
    h2{text-align:center;color:#00ffaa;margin:0 0 18px}
    label{display:block;margin-bottom:6px;color:#00ffaa}
    input,select,textarea{width:100%;margin-bottom:12px;padding:10px;background:#000;color:#00ff99;border:1px solid #00ff99;border-radius:8px}
    button{width:100%;padding:12px;border:none;border-radius:8px;background:#00ffaa;color:#002;font-weight:700;cursor:pointer}
    a{display:block;text-align:center;margin-top:10px;color:#00ffaa;text-decoration:none}
  </style>
</head>
<body>
  <form method="POST">
    <h2>Edit Criminal #{{ criminal.Criminal_ID }}</h2>
    <label>Name</label><input name="name" value="{{ criminal.Name_ }}" required>
    <label>Address</label><input name="address" value="{{ criminal.Address }}" required>
    <label>Date of Birth</label><input type="date" name="dob" value="{{ criminal.DateofBirth|ymd }}" required>
    <label>Gender</label>
    <select name="gender" required>
      <option value="M" {% if criminal.Gender == 'M' %}selected{% endif %}>Male</option>
      <option value="F" {% if criminal.Gender == 'F' %}selected{% endif %}>Female</option>
    </select>
    <label>Criminal Record</label><textarea name="record" rows="3" required>{{ criminal.CriminalRecord }}</textarea>
    <label>Associated Case</label>
    <select name="case_id">
      <option value="">— None —</option>
      {% for c in cases %}
        <option value="{{ c.CaseID }}" {% if c.CaseID == criminal.CaseID %}selected{% endif %}>{{ c.CaseType }}</option>
      {% endfor %}
    </select>
    <label>Age</label><input type="number" name="age" min="18" max="100" value="{{ criminal.Age }}" required>
    <label>Trial Duration</label><input name="duration" value="{{ criminal.TrialDuration }}" required>
    <button type="submit">Save Changes</button>
    <a href="{{ url_for('criminals_page') }}">← Back to Criminals</a>
  </form>
</body>
</html>
